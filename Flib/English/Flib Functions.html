<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<meta name="Author" content="Fran&ccedil;ois Leiber">
		<title>Flib functions</title>
	</head>

	<style>
		body { font-family: "Comic Sans MS"; background: url(file:///C:/Perso/TI/Flib/html%20data/fond.jpg) repeat }
		.fct { font-size: small;  color=#037BC2 }
		.des { font-size: x-small ; position: relative; left: 20px }
	</style>

	<body>
		<center>
			<a name="Sommet"></a><br>
			***************************************************************************<br>
			<br>
			*******************************<br>
			<br>
			<font size="7" face="Times New Roman,Georgia,Times"><b>FLIB 3.2</b></font><br>
			<br>
			*******************************<br>
			<br>
			<font size="4">by <a href="mailto:francois.leiber@laposte.net">Fran&ccedil;ois LEIBER</a></font><br>
			<br>
			<a href="http://leiber.free.fr/"><font size="4">http://leiber.free.fr</font></a><br>
			<br>
			***************************************************************************<br>
		</center>
		<p><br>
			This text contains a detailed description of all the functions of Flib and Flib2, read <a href="Readme.html">Readme</a> for a more general presentation.<br>
			<br>
		</p>
		<table width="100%" border="0" cellspacing="3" cellpadding="0">
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><b><font size="5" face="Times New Roman,Georgia,Times">Sommary</font></b></td>
			</tr>
			<tr height="26">
				<td height="26"><br>
					<ol>
						<ol>
							<li class="des"><a href="#Utilisation"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">How to use Flib</font></a>
							<li class="des"><a href="#Infos"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Info</font></a>
							<li class="des"><a href="#Générales"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">General functions</font></a>
							<li class="des"><a href="#Graphiques"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Graphical functions</font></a>
							<li class="des"><a href="#Texte"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Text functions</font></a>
							<li class="des"><a href="#High-scores"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">High-scores functions</font></a>
							<li class="des"><a href="#Status Line"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Status Line functions</font></a>
							<li class="des"><a href="#Touches"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Key functions</font></a>
							<li class="des"><a href="#Variables"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">TIOS functions</font></a>
						</ol>
					</ol>
					<p class="des"></p>
				</td>
			</tr>
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><a name="Utilisation"></a><b><font size="5" face="Times New Roman,Georgia,Times">How to use Flib</font></b></td>
			</tr>
			<tr>
				<td><br>
					You only have to type, usually in a BASIC program:<br>
					<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">flib(&quot;command1&quot; [,&quot;command2&quot;,...])</font><br>
					<br>
					example : <font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">flib(&quot;clrscr&quot;,&quot;msg:Hello, World !&quot;,&quot;slrcl&quot;)</font><br>
					<br>
					If you use functions from flib2, then:<br>
					<br>
					example:<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular"> flib2(&quot;version&quot;,&quot;mkhs:10,500,fl,sc&quot;,&quot;hide:sc&quot;)</font><br>
					<br>
					Numerical arguments can be of any type, just like BASIC: numbers, but also variable names, mathematical expressions, brief anything that returns a number. Attention, a numerical argument has to begin by a number or a space:<br>
					<br>
					example, beware at the spaces before 'list', 'int' and 'sin':<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular"> flib2(&quot;drawline:0,1/2-1/5, list[5], int(a+7*b), sin(atan(x^2))&quot;)</font><br>
					<br>
					A number or a variable name will work perfectly and fast (I did it by hand), whereas expressions will be much slower and won't recognize local variables. If an argument has a syntax error, Flib will stop by throwing an error, just like a BASIC&nbsp;instruction would do.<br>
					<br>
					Flib returns always a list, empty if need be, containing the results of all the functions, in the order they are called. This list is stored in variable 'fl', which can be declared as a local variable.<br>
					<br>
					If you don't understand a function, LOOK&nbsp;AT&nbsp;THE&nbsp;EXAMPLES given with Flib; 99% of the problems can be solved this way, thanks! I&nbsp;won't reply to the questions which can be answered by reading the examples, I really don't have time left for this... Moreover, Flib is just a library to fill up the lacks of the TI-BASIC, but you must already know this langage before using this library!<br>
					<br>
				</td>
			</tr>
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><a name="Infos"></a><b><font size="5" face="Times New Roman,Georgia,Times">Info</font></b></div></td>
			</tr>
			<tr>
				<td><br>
					Functions of the second library (flib2) are preceded by a star.<br>
					<br>
					All the function names are in small letters and the shorter possible so they are easier and shorter to remember and write.<br>
					<br>
					I've included all kinds of protections, so I think Flib can't throw an error, even if the arguments are wrong.<br>
					<br>
				</td>
			</tr>
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><a name="Générales"></a><b><font size="5" face="Times New Roman,Georgia,Times">General functions</font></b></div></td>
			</tr>
			<tr>
				<td><br>
					<p class="fct">off</p>
					<p class="des">Turns the calculator off.<br>
						<br>
					</p>
					<p class="fct">breakoff</p>
					<p class="des">Disables the break (ON key, see example 'flpass'). Attention, using getkey(), calling a program or function string() will enable the break again, that's why I haven't included another function to enable it. Finally, since this function disables all interrupts, it will speed up your programs.<br>
						<br>
					</p>
					<p class="fct">beep:freq[,length]</p>
					<p class="des">Plays a note at frequency <i>freq</i>, for <i>length</i> hundredths of a second (4 by default).<br>
						The notes should be perfectly in tune both on HW1 and HW2.<br>
						<br>
					</p>
					<p class="fct">beep2:[tempo,]song</p>
					<p class="des">Plays song <i>song</i> with tempo (beats per minute) <i>tempo</i>, which is worth 120 by default. Stops when the user presses a key. <i>song</i> must respect the following conventions (look at the example 'sound'):</p>
					<table class="des" border="3" cellspacing="2" cellpadding="2">
						<tr align="center">
							<td width="37">C</td>
							<td width="37">C#</td>
							<td width="37">D</td>
							<td width="37">D#</td>
							<td width="37">E</td>
							<td width="37">F</td>
							<td width="37">F#</td>
							<td width="37">G</td>
							<td width="37">G#</td>
							<td width="37">A</td>
							<td width="37">A#</td>
							<td width="37">B</td>
						</tr>
						<tr align="center">
							<td width="37">A</td>
							<td width="37">B</td>
							<td width="37">C</td>
							<td width="37">D</td>
							<td width="37">E</td>
							<td width="37">F</td>
							<td width="37">G</td>
							<td width="37">H</td>
							<td width="37">I</td>
							<td width="37">J</td>
							<td width="37">K</td>
							<td width="37">L</td>
						</tr>
					</table>
					<br>
					<p class="des">To change the octave, type 'O' followed by the number of the octave, which has to be between 0 and 4 (2 by default).<br>
						To change the notes' type (crochet by default), type:</p>
					<table class="des" border="3" cellspacing="2" cellpadding="2">
						<tr align="center">
							<td width="57">1</td>
							<td width="57">2</td>
							<td width="57">3</td>
							<td width="57">4</td>
							<td width="57">5</td>
							<td width="57">6</td>
							<td width="57">7</td>
							<td width="57">8</td>
							<td width="57">9</td>
						</tr>
						<tr align="center">
							<td width="57">Semibreve</td>
							<td width="57">Minim</td>
							<td width="57">Dot crochet</td>
							<td width="57">Crochet</td>
							<td width="57">Dot quaver</td>
							<td width="57">Quaver</td>
							<td width="57">Double quaver</td>
							<td width="57">Triple quaver</td>
							<td width="57">Triolet</td>
						</tr>
						<tr align="center">
							<td width="57">4 beats</td>
							<td width="57">2 beats</td>
							<td width="57">1+1/2 beats</td>
							<td width="57">1 beat</td>
							<td width="57">1/2+1/4 beats</td>
							<td width="57">1/2 beat</td>
							<td width="57">1/4 beat</td>
							<td width="57">1/8 beat</td>
							<td width="57">1/3 beat</td>
						</tr>
					</table>
					<br>
					<p class="des">Finally, for a rest, type 'P', the rest will be the same length as the note who would have been played instead.<br>
						<br>
					</p>
					<p class="fct">wait:value</p>
					<p class="des">Waits without doing anything, <i>value</i> is a time in tenth of a second. This function is parameterized to fit exactly on HW2 calculators.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>apd:value</p>
					<p class="des">Sets the value of the automatic power-down (APD) rate; <i>value</i> is a time in seconds. Returns the previous value.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>error:num</p>
					<p class="des">Throws the error <i>num</i>; see the TI manual to find the meaning of the different error codes. The advantage of throwing an error manually is that you can inform the user of the error without exiting the program.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>reset</p>
					<p class="des">Resets the calculator. This function isn't the most useful, but it's the funniest for sure!<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">(*)</font>version</p>
					<p class="des">Returns a string containing Flib's version.<br>
						<br>
					</p>
					<p class="fct">+</p>
					<p class="des">Increases the contrast.<br>
						<br>
					</p>
					<p class="fct">-</p>
					<p class="des">Decreases the contrast.<br>
						<br>
					</p>
					<p class="fct">getcont</p>
					<p class="des">Gets the current contrast, which is a integer between 0 (very low contrast) and 15 (very high contrast).<br>
						<br>
					</p>
					<p class="fct">setcont:valeur</p>
					<p class="des">Sets the current contrast. <i>value</i> has to be a number between 0 and 15.<br>
						<br>
					</p>
				</td>
			</tr>
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><a name="Graphiques"></a><b><font size="5" face="Times New Roman,Georgia,Times">Graphical functions</font></b></td>
			</tr>
			<tr>
				<td><br>
					The argument 'mode' is always optional, it will be replaced by 1 if it is omitted.<br>
					The coordinates begin at the upper left corner (0,0) to the lower right corner (159,99) [or (239,127) on a 92+].<br>
					<br>
					<p class="fct">gray</p>
					<p class="des">Activates the grayscale mode, clears the screen on the two planes, and activates plane 1. At the end of Flib's call, the library waits for the user to press a key, then returns the value of the pushed key, turns the grayscale mode off and restores the original screen (look at the examples 'grayex' and 'anni').<br>
						<br>
					</p>
					<p class="fct">gray2</p>
					<p class="des">Same thing as 'gray', but the calculator does not wait for a key-press at the end. If you call this function a second time, it will turn the grayscale mode off.<br>
						<br>
					</p>
					<p class="fct">plane:x</p>
					<p class="des">Sets the active plane to <i>x</i> : all the graphical function calls that you'll make after will draw on this plane. <i>x</i> can take the values 0 and 1.<br>
						A * pixel corresponds to planes * on/off :</p>
					<ul>
						<li class="des">white : all off
						<li class="des">light gray : plane 0 on, and plane 1 off
						<li class="des">dark gray : plane 1 on, and plane 0 off
						<li class="des">black : plane 0 + plane 1 on
					</ul>
					<p class="fct">clrscr</p>
					<p class="des">Clears the screen.<br>
						<br>
					</p>
					<p class="fct">sprite:[x,][y,][mode,]pic</p>
					<p class="des">Puts the bitmap <i>pic</i> to the screen at position (<i>x</i>, <i>y</i>).<br>
						<i>mode</i> can take the values:</p>
					<ul>
						<li class="des">0 replaces the destination with the inverse of <i>pic</i>
						<li class="des">1 superposes <i>pic</i> to the destination
						<li class="des">2 displays <i>pic</i> in 'xor' mode
						<li class="des">3 erases the destination
						<li class="des">4 replaces the destination with <i>pic</i>
						<li class="des">6 displays <i>pic</i> in 'and' mode.
					</ul>
					<p class="des"><i>x</i> and <i>y</i> are worth 0 by default.<br>
						<br>
					</p>
					<p class="fct">savpic:x1,y1,x2,y2,pic</p>
					<p class="des">Saves in variable <i>pic</i> the part of the screen between the points (<i>x1</i>, <i>y1</i>) and (<i>x2</i>, <i>y2</i>).<br>
						<br>
					</p>
					<p class="fct">savscr:pic</p>
					<p class="des">Saves the LCD screen and puts it in <i>pic</i>.<br>
						<br>
					</p>
					<p class="fct">rclscr:pic</p>
					<p class="des">Restores the LCD screen saved in <i>pic</i> with 'savscr'.<br>
						<br>
					</p>
					<p class="fct">picsize:pic</p>
					<p class="des">Returns, in a list, the horizontal and vertical dimensions of <i>pic</i>.<br>
						<br>
					</p>
					<p class="fct">rect:x1,y1,x2,y2[,mode]</p>
					<p class="des">Draws a empty rectangle with (<i>x1</i>, <i>y1</i>) and <i>(x2</i>, <i>y2</i>) as corners.<br>
						<i>mode</i> can take the values:</p>
					<ul>
						<li class="des">0 erases the rectangle
						<li class="des">1 draws a black rectangle
						<li class="des">2 draws an inverted rectangle
						<li class="des">32 draws a rectangle with rounded corners
						<li class="des">64 draws a double rectangle
						<li class="des">128 draws a rectangle with the upper corners cut.
					</ul>
					<p class="des">In fact, if you're looking for a particular effect, just try other arguments, you can have rounded and inverted rectangles, double rectangles with the corners cut...<br>
						Moreover, the values indicated above will draw white rectangles, you'll have to add one of the three first values to draw a black or inverted rectangle.<br>
						<br>
						<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Ex : 97 ( = 64 + 32 + 1 ) for a black double rounded rectangle.</font><br>
						<br>
					</p>
					<p class="fct">fillrect:x1,y1,x2,y2[,mode]</p>
					<p class="des">Draws a filled rectangle with (<i>x1</i>, <i>y1</i>) and (<i>x2</i>, <i>y2</i>) as corners.<br>
						<i>mode</i> can take the values:</p>
					<ul>
						<li class="des">0 erases the rectangle
						<li class="des">1 draws a black rectangle
						<li class="des">2 draws an inverted rectangle.
					</ul>
					<p class="fct">filltri:x1,y1,x2,y2,x3,y3[,mode]</p>
					<p class="des">Draws a filled triangle between the points (<i>x1</i>, <i>y1</i>), (<i>x2</i>, <i>y2</i>) and (<i>x3</i>, <i>y3</i>).<br>
						<i>mode</i> can take the same values as 'line'.<br>
						<br>
					</p>
					<p class="fct">fillpoly:x1,y1,x2,y2,x3,y3,x4,y4[,mode]</p>
					<p class="des">Draws a filled quadrilateral between the lines (<i>x1</i>, <i>y1</i>)-(<i>x2</i>, <i>y2</i>) and (<i>x3</i>, <i>y3</i>)-(<i>x4</i>, <i>y4</i>).<br>
						The first line has to be closer to the bottom of the screen than the second one, or nothing will be drawn.<br>
						<i>mode</i> can take the same values as 'line'.<br>
						<br>
					</p>
					<p class="fct">ellipse:x,y,r1,r2[,mode]</p>
					<p class="des">Draws an ellipse with center at (<i>x</i>, <i>y</i>), and with semi axes <i>r1</i> and <i>r2</i>.<br>
						<i>mode</i> can take the same values as 'fillrect'.<br>
						<br>
					</p>
					<p class="fct">line:x1,y1,x2,y2[,mode]</p>
					<p class="des">Draws a line between (<i>x1</i>, <i>y1</i>) and (<i>x2</i>, <i>y2</i>).<br>
						<i>mode</i> can take the values:</p>
					<ul>
						<li class="des">0 erases the line
						<li class="des">1 draws a black line
						<li class="des">2 draws an inverted line
						<li class="des">7 draws a double line
						<li class="des">8 draws a line with a vertical shading
						<li class="des">9 draws a line with a horizontal shading
						<li class="des">10 draws a line using a negative slope diagonal shading pattern
						<li class="des">11 draws a line using a positive slope diagonal shading pattern.
					</ul>
					<p class="des">Shadings will work only with lines more than 45&deg;.<br>
						<br>
					</p>
					<p class="fct">pix:x,y[,mode]</p>
					<p class="des">Draws a pixel at (<i>x</i>, <i>y</i>).<br>
						<i>mode</i> can take the same values as 'fillrect'.<br>
						<br>
					</p>
					<p class="fct">pixtest:x,y</p>
					<p class="des">Returns 0 if the pixel (<i>x</i>, <i>y</i>) is off and 1 if it's on.<br>
						<br>
					</p>
					<p class="fct">mkpic:width,height,var,data</p>
					<p class="des">Creates, in variable <i>var</i>, a picture of width <i>width</i> and height <i>height</i>, where the picture itself is directly given as a string.<br>
						The <i>data</i> structure is defined as following: each line is given by a whole number of characters; each character contains 8 pixels (if the width of the picture is not a multiple of 8, the last bits of the last character of each line won't be used).<br>
						The lines are written one after the other.<br>
						To avoid the problem of characters that aren't accessible to BASIC, replace character n&deg;0 by '00', n&deg;2 by '02' and n&deg;13 by '13'.</p>
					<p class="des">To understand, look at the small BASIC programs 'mkpic' and 'mkpic2' which automatically convert pictures in strings for 'mkpic'; you should also look at my BASIC Othello so you can have an example of how to use it.<br>
						If I did such a function, it's because I always see BASIC programmers who distribute their program with thousands of little pictures in several folders. With this function, it's possible to create pictures easily and with little memory.<br>
						<br>
					</p>
					<p class="fct">map:[width,][x,][y,][horiz,][vert,][mode,][time,],prefix,data</p>
					<p class="des">Displays a succession of sprites in one pass, one after the other in ordered lines (look at the example 'map').<br>
						<i>width</i> is the number of sprites per horizontal line; when this number is reached, sprites will be drawn on the next line.<br>
						Sprites will be drawn from the point (<i>x</i>, <i>y</i>); this point is (0, 0) by default.<br>
						<i>horiz</i> and <i>vert</i> indicate what size is left to each sprite: if some sprites are bigger than this size, they'll overlap. When <i>horiz</i> and <i>vert</i> are omitted, 'map' takes the size of the current sprite as arguments, but in this case, sprites should all have the same size, otherwise strange shifts could appear.<br>
						All sprites must have their name made of <i>prefix</i> + 'one character': <i>data</i> is the succession of the characters standing for all the sprites you want to display.<br>
						<i>mode</i> can take the same values as 'sprite'.<br>
						Last but not least, <i>time</i> is a subtle argument: 'map' becomes an evolved CyclePic if you use it. Indeed, the function is then going to loop till a key is pressed by the user, and then returns the number of the key. <i>time</i> is the time given in hundredth of a second it is going to wait between two picture drawings. If <i>horiz</i> and <i>vert</i> are worth 0, all the pictures will be drawn at the same place, just like CyclePic.</p>
					<p class="des"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Ex : flib(&quot;map:,x,y,0,,4,time,pic,123456&quot;)</font><br>
						where <i>pic1</i>, <i>pic2,</i>... make a little video, and <i>x</i>, <i>y</i> and <i>time</i> have to be replaced by numbers.<br>
						By setting time to 0, you can even make grayscale (see example 'grayex'), it is practical to display a gray image in a black &amp; white interface; you can't do that with 'gray' (but quality is not as good).<br>
						<br>
					</p>
				</td>
			</tr>
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><a name="Texte"></a><b><font size="5" face="Times New Roman,Georgia,Times">Text functions</font></b></td>
			</tr>
			<tr>
				<td><br>
					<p class="fct">font:size</p>
					<p class="des">Sets the current font.<br>
						<i>size</i> can take the values:</p>
					<ul>
						<li class="des">0 for the small font (nx5 pixels)
						<li class="des">1 for the standard font (6x8 pixels)
						<li class="des">2 for the big font (8x10 pixels).
					</ul>
					<p class="fct">drawstr:x,y,[mode,]str</p>
					<p class="des">Prints the string <i>str</i> at (<i>x</i>, <i>y</i>).<br>
						If <i>x</i> is worth 999, the string will be centered horizontally on the screen; don't use this too often because then the programs for 89 don't always look nice on 92+.<br>
						<i>mode</i> can take the values:</p>
					<ul>
						<li class="des">0 prints white on black
						<li class="des">1 prints black
						<li class="des">2 prints inverted
						<li class="des">3 prints gray on white.
						<li class="des">4 prints black on white.
					</ul>
					<p class="des">Attention, if you omit the argument <i>mode</i>, <i>str</i> shouldn't begin with a number or a space, or Flib will think it is <i>mode</i>. Another solution I recommend is to write a coma without any argument behind.<br>
						<br>
					</p>
					<p class="fct">drawstrv:x,y,[mode,]str</p>
					<p class="des">Prints the string str vertically at (<i>x</i>, <i>y</i>).<br>
						<i>mode</i> can take the same values as in 'drawstr'.<br>
						<br>
					</p>
					<p class="fct">pretty:x,y,[mode,]expr</p>
					<p class="des">Prints in Pretty Print mode the expression <i>expr</i> at (<i>x</i>, <i>y</i>).<br>
						<i>mode</i> can take the same values as 'drawstr'.<br>
						<br>
					</p>
					<p class="fct">pinfo:expr</p>
					<p class="des">Returns {width, top, bottom} that the expression will have when printed with pretty.<br>
						In brief, if you print it at (x,y), it will be contained between (x, y+top) and (x+width, y+bottom).<br>
						<br>
					</p>
					<p class="fct">width:size,str</p>
					<p class="des">Returns the width, in pixels, of the string <i>str</i> using the font <i>size</i>.<br>
						<br>
					</p>
					<p class="fct">msg:string</p>
					<p class="des">Prints <i>string</i> inverted in a black box and waits for the user to press a key, then restores the screen and returns the value of the pressed key (see 'keywait').<br>
						You can print the message on more than one line by separating each line with '|', each line will be truncated after 25 chars (38 on a 92+) and centered on the screen. The screen is limited to 8 lines (12 on a 92+).</p>
					<p class="des">Do not use this function when grayscale mode is on, because both functions use the same memory place so save the screen, so Flib will no restore correctly the screen at the end. But you can do it manually if really you want to...<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>menu:[height,][x,][y,]title,options...</p>
					<p class="des">Displays a rectangular menu with as many options and suboptions as you wish, with it's left upper corner at (<i>x</i>, <i>y</i>). The three first arguments are optional, the menu will have just the right height and will be centered if they are omitted. If <i>height</i> is insufficient to show all the elements, you can scroll the menu.<br>
						Each option is preceded by a coma, and each suboption by a '|'.<br>
						The value returned in 'fl' is the number of the element where the user has pressed ENTER, or 0 if he has pressed ESC.</p>
					<p class="des">For example, on your calculator, try<br>
						<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">flib2(&quot;menu:20,title,option1,option2|suboption1|suboption2&quot;)</font><br>
						To understand, or look at the program 'menu' given as an example.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>numline:var</p>
					<p class="des">Returns the number of lines in the text variable <i>var</i>.<br>
						If there is a problem - <i>var</i> doesn't exist or isn't a text - the function doesn't return anything.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>getline:n,var</p>
					<p class="des">Returns the <i>n</i>-th line of the text variable <i>var</i>.<br>
						In a text, the first line is line n&deg;0 (same thing for the two following functions).<br>
						If there is a problem, the function doesn't return anything.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>delline:n,var</p>
					<p class="des">Deletes the <i>n</i>-th line of text <i>var</i>.<br>
						Returns 1 if successful, 0 otherwise.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>insertline:n,var,str</p>
					<p class="des">Inserts line <i>str</i> between the (<i>n</i>-1)-th line and the <i>n</i>-th line of text <i>var</i>.<br>
						Returns 1 if successful, 0 otherwise.<br>
						<br>
					</p>
				</td>
			</tr>
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><a name="High-scores"></a><b><font size="5" face="Times New Roman,Georgia,Times">High-scores functions</font></b></td>
			</tr>
			<tr>
				<td><br>
					A high-score table is a symbol containing several high-scores, each of them formed with a number between 0 and 65535 and a string, 10 characters maximum.<br>
					The symbol is a string, but you don't have access to the data, you will only see <i>'Highscores by Flib;'</i> you can find an example in program 'memory.'<br>
					<br>
					<p class="fct"><font color="#ff000a">*</font>mkhs:n,rec,name,var</p>
					<p class="des">Creates, in <i>var</i>, a high-score table containing <i>n</i> high-scores, initialized to the value <i>score</i> and to the name <i>name</i>.<br>
						If <i>name</i> is more than 10 characters long, it will be truncated.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>puths:rec,name,var</p>
					<p class="des">Automatically inserts in the high-score table <i>var</i> the record given by its value <i>score</i> and a name <i>name</i>.<br>
						Returns the place of the new record or 0 if <i>score</i> wasn't good enough to be in the high-scores.<br>
						If <i>name</i> is more than 10 characters long, it will be truncated.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>geths:n,var</p>
					<p class="des">Returns, in 'fl', the <i>n</i>-th high-score of <i>var</i>, a number followed by a string for the name.<br>
						<br>
					</p>
				</td>
			</tr>
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><a name="Status Line"></a><b><font size="5" face="Times New Roman,Georgia,Times">Status Line functions</font></b></td>
			</tr>
			<tr>
				<td><br>
					<p class="fct">slclr</p>
					<p class="des">Erases the status line's content.<br>
						<br>
					</p>
					<p class="fct">slrcl</p>
					<p class="des">Redraws the line above the status line.<br>
						<br>
					</p>
					<p class="fct">slmsg:string</p>
					<p class="des">Displays <i>string</i> in the status line.<br>
						<br>
					</p>
					<p class="fct">busy:mode</p>
					<p class="des">Sets the BUSY indicator in the status line.<br>
						<i>mode</i> can take the values:</p>
					<ul>
						<li class="des">1 sets to 'BUSY'
						<li class="des">2 sets to 'PAUSE'
						<li class="des">3 erases the indicator.
					</ul>
					<p><br>
					</p>
				</td>
			</tr>
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><a name="Touches"></a><b><font size="5" face="Times New Roman,Georgia,Times">Key functions</font></b></td>
			</tr>
			<tr>
				<td><br>
					<p class="fct">keywait</p>
					<p class="des">Waits for the user to press a key and returns the value of the pressed key.<br>
						Attention: the following codes are different from the ones returned by getkey() in BASIC, the other ones are the same:<br>
						<br>
					</p>
					<table class="des" width="389" border="3" cellspacing="2" cellpadding="2">
						<tr align="center">
							<td></td>
							<td>Normal</td>
							<td>2nd</td>
							<td>Shift</td>
							<td>Diamond</td>
							<td>Alpha</td>
						</tr>
						<tr>
							<td>Up</td>
							<td>337</td>
							<td>4433</td>
							<td>8529</td>
							<td>16721</td>
							<td>33105</td>
						</tr>
						<tr>
							<td>Left</td>
							<td>338</td>
							<td>4434</td>
							<td>8530</td>
							<td>16722</td>
							<td>33106</td>
						</tr>
						<tr>
							<td>Down</td>
							<td>340</td>
							<td>4436</td>
							<td>8532</td>
							<td>16724</td>
							<td>33108</td>
						</tr>
						<tr>
							<td>Right</td>
							<td>344</td>
							<td>4440</td>
							<td>8536</td>
							<td>16728</td>
							<td>33112</td>
						</tr>
					</table>
					<br>
					<p class="des">Attention: on a 92+, keys Up and Left are inverted.<br>
						<br>
					</p>
					<p class="fct">keylow</p>
					<p class="des">keylow is used for low-level key reading: it detects only when the arrows or the keys 2nd, Shift, Diamond or Alpha are being held down.<br>
						Moreover, it doesn't flush the keyboard queue: it is independent with all the getkey() and other key functions that you can call, it just returns the actual keyboard state.<br>
						Finally, it detects when more than a key are pressed at the same time.<br>
						It returns a string where the successive characters represent the keys 2nd, Shift, Diamond, Alpha (Lock on the 92+), Left, Right, Up and Down.<br>
					</p>
					<p class="des">For example, &quot;10001010&quot; means that 2nd, Left and Up are being held down and that the other keys are not.<br>
						<br>
					</p>
					<p class="fct">initdelay:time</p>
					<p class="des">Sets the <i>time</i> (395th of a second) a key has to be held down before it starts to repeat.<br>
						The default value is 336, but it is reseted each time you turn your calc off/on. Returns the previous value.<br>
						<br>
					</p>
					<p class="fct">delay:rate</p>
					<p class="des">Sets the <i>rate</i> (395th of a second) at which a key auto repeats.<br>
						The default value is 48, but it is reseted each time you turn your calc off/on. Returns the previous value.<br>
						<br>
					</p>
				</td>
			</tr>
			<tr align="right" height="26">
				<td bgcolor="#a3cde7" height="26"><a name="Variables"></a><b><font size="5" face="Times New Roman,Georgia,Times">TIOS functions</font></b></td>
			</tr>
			<tr>
				<td><br>
					<p class="fct"><font color="#ff000a">*</font>hide:var</p>
					<p class="des">Hides the symbol or folder <i>var</i> (the symbol will be hidden from the TIOS).<br>
						If it is a folder, it will first fold it to hide all its variables.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>unhide:var</p>
					<p class="des">Unhides the symbol or folder <i>var</i> (look at 'hide').<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>size:var</p>
					<p class="des">Returns the size of <i>var</i>.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>state:var</p>
					<p class="des">Returns a number composed of 3 bits representing the state of <i>var</i>: The first bit tells if <i>var</i> is archived, the second if it's locked and the last one if it's hidden.<br>
						More clearly, you must do this if you want to get the different characteristics independently:</p>
					<ul>
						<p class="des"><font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">flib(&quot;state:var&quot;)<br>
								fl[1] and 1-&gt;archived<br>
								fl[1] and 2-&gt;locked<br>
								fl[1] and 4-&gt;hidden</font><br>
						</p>
					</ul>
					<p class="des"><br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>folder:var</p>
					<p class="des">Returns the list of all the folders containing the symbol <i>var</i>.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>getfolder</p>
					<p class="des">Returns a list containing all the folders in the calc.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>getfile:[type,]folder</p>
					<p class="des">Returns in a list all the files of the folder <i>folder</i>.<br>
						Moreover, you can add another argument: a number that represents a variable type. If you do, then getfile will return only the symbols of the type <i>type</i>.<br>
						<i>type</i> can take the following values:</p>
					<ul>
						<li class="des">45 -&gt; to return only strings
						<li class="des">217 -&gt; lists or matrices
						<li class="des">220 -&gt; programs or functions
						<li class="des">221 -&gt; data
						<li class="des">222 -&gt; GDB
						<li class="des">223 -&gt; pictures
						<li class="des">224 -&gt; texts
						<li class="des">225 -&gt; figures
						<li class="des">226 -&gt; macros
						<li class="des">243 -&gt; asm programs or libraries
					</ul>
					<p class="des">Expressions don't have an assigned value, that's why they don't appear here.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>getbyte:num[,n],var</p>
					<p class="des">Returns the byte number <i>num</i> of <i>var</i>.<br>
						If the argument <i>n</i> is present, Flib will return, in a string, <i>n</i> bytes of the variable <i>var</i>, beginning with the byte <i>num</i>.<br>
						<i>num</i> has to be a number between 0 and 'size(<i>var</i>)-3'.<br>
						The argument <i>n</i> is much more powerful and practical to program an editor than getting the bytes one by one, but there will be errors if the string contains unauthorized characters.&nbsp;<i>n</i> has to be less than 4997.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>setbyte:num,value,var</p>
					<p class="des">Sets the byte number <i>num</i> of <i>var</i> to <i>value</i>.<br>
						num has to be between 0 and 'size(<i>var</i>)-3', value between 0 and 255.<br>
						This function gives you a total control over the variables, but also over the TIOS's stability...<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>memcpy:ndest,nsrc,num,dest,src</p>
					<p class="des">Copies <i>num</i> bytes of variable <i>src</i>, beginning with it's <i>nsrc</i>-th byte, to variable <i>dest</i>, beginning with it's <i>ndest</i>-th byte.<br>
						<br>
						<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Ex : &quot;Flib by Fran&ccedil;ois Leiber&quot;-&gt;a : &quot;Flib2 &amp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;-&gt;b : flib2(&quot;memcpy:9,1,23,b,a&quot;)</font><br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>komp:var</p>
					<p class="des">If <i>var</i> is not compressed, the function compresses it: it replaces it by a variable of type KOMP, but smaller in size. If <i>var</i> is already compressed, then it decompresses it.<br>
						The function returns a number which can take the following values:</p>
					<ul>
						<li class="des">0 : (de)compression successful
						<li class="des">1 : variable <i>var</i> doesn't exist
						<li class="des">2 : no compression has been done, the compressed variable would be bigger than the original
						<li class="des">3 : not enough memory to (de)compress.
					</ul>
					<p class="des"><br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>kinfo:var</p>
					<p class="des">Returns the original type (see function 'getfile') and size of a KOMP variable. Returns 0 if var is not a KOMP variable.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>group:[n,][var1,var2,...]var</p>
					<p class="des">When there is more than one argument, the function groups variables <i>var1</i>, <i>var2</i>, ... in <i>var</i>, whose type will be GRP. If <i>var</i> is already a GRP&nbsp;variable and if there is only one other argument <i>var1</i>, the function adds <i>var1</i> to the variable <i>var</i>. The sum of all the variables' sizes must not exceed 65 KB, limited by the TIOS. Variable names can include a folder name.<br>
						Returns the number of variables successfully grouped in <i>var</i>.<br>
						<br>
						When there is only one variable name, this function understands that it must extract the variables grouped in var (its type must be GRP). If there is a numerical argument, it will only extract the <i>n</i>th variable from <i>var</i>.<br>
						Returns the number of variables successfully ungrouped from <i>var</i>.<br>
						<br>
						With this function, you don't need to make programs with thousands of little files. Moreover, compression with 'komp' is much more efficient when you group many variables of the same type before compressing them, instead of compressing them independently and grouping them afterwards.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>ginfo:var</p>
					<p class="des">Returns the list of the files in GRP variable <i>var</i>.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>mkvar:taille,[type,][extension,]name</p>
					<p class="des">Creates a variable named <i>name</i> of <i>size</i> bytes, filled with 0.<br>
						<i>type</i> is a number so you can give the type of the variable (see 'getfile' to know the different possibilities). By default, 'mkvar' creates a text (<i>type</i> is then worth 224).<br>
						<i>extension</i> is a string of 4 letters maximum to create a variable whose type in Var-Link will appear as <i>extension</i>.<br>
						If you put arguments <i>type</i> and <i>extension</i>, this last one will be preponderant.<br>
						<br>
						<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Ex : flib2(&quot;mkvar:7,aaa&quot;,&quot;setbyte:2,32,aaa&quot;)<br>
						</font>to create an empty text called 'aaa'. The second byte&nbsp;set to 32 indicates to the TIOS the beginning of the first line.<br>
						<br>
						<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Ex : flib2(&quot;mkvar:50,pers,aaa&quot;)<br>
						</font>to create a 50-byte long variable whose type in Var-Link will be 'pers'.<br>
						<br>
					</p>
					<p class="fct"><font color="#ff000a">*</font>type:var</p>
					<p class="des">Returns the extension of <i>var</i>, if var has a customized extension (made whith 'mkvar' for example).<br>
						Returns nothing if the variable does not have a customized extension.<br>
						<br>
						<br>
					</p>
				</td>
			</tr>
		</table>
		<center>
			<p class="des"><a href="#Sommet"><font size="2">Back to the top of the page</font></a><br>
				<br>
			</p>
		</center>
	</body>

</html>